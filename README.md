# FastAPI APP

### Стек:

Python 3.11 | FastAPI 0.109 | SQLAlchemy 2+ | AIOSQLite 0.20 

### Функционал:

FastAPI-приложение, получающее данные от пользователя с указанием устройства и возвращающее обработанную статистику.

Приоржение было упаковано в Docker контейнер для простоты запуска.

## Эндпоинты

### Получить все данные записанные в БД.

Возвращает все данные записанные в БД.

**URL:** `/data/`

**Метод:** `GET`

**Пример:**
```
  /data/
```

### Получить конкретные данные по ID объекта.

Возвращает конкретный объект данных по ID.

**URL:** `/data/`

**Метод:** `POST`

**Пример:**
```
  /data/
```

**JSON:**
```
  {
    "device": "string",
    "x": 0,
    "y": 0,
    "z": 0
  }
```

### Опубликовать данные с устройства.

Ожидает от пользователя JSON с указанием необходимых параметров.

**URL:** `/data/{data_id}`

**Метод:** `GET`

**Пример:**
```
  /data/1/
```

### Получить статистику по устройству.

Высчитывает статистику всех параметров конкретного устройства.

**URL:** `/data/statistics/{device}/`

**Метод:** `GET`

**Пример:**
```
  /data/statistics/IPhone/
```

## Установка

#### Клонируем репозиторй
```
  git@github.com:Anstane/fastapi_app.git
```

#### Переходим в папку с приложением
```
  cd fastapi_app
```

#### Запускаем docker compose
```
  docker compose up --build
```

#### Пользуемся приложением.

## Планы на доработку

- Сделать возможность получать данные в конкретный период по timestamp
- Добавить модель, в которой будут храниться обработанные данные
- Сделать Celery-скрипт, который будет в фоновом формате подготавливать данные для модели со статистикой
- Исправить docker compose - убрать БД в volumes
- Реализовать автоматическое получение ID устройства через middleware
- Сделать нагрузочное тестирование на проект


## Автор

[Михаил Московкин](https://github.com/Anstane)

